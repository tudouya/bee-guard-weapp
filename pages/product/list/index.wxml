<view class="product-list">
  <view class="product-hero">
    <view class="product-hero__title">蜂业好物推荐</view>
    <view class="product-hero__desc">
      平台甄选权威防控产品、蜂具与数字化服务，帮助蜂农快速匹配蜂场所需。
    </view>
    <view wx:if="{{scene}}" class="product-hero__scene">针对：{{scene}}</view>
  </view>

  <view wx:if="{{errorMessage}}" class="product-error">
    <text>{{errorMessage}}</text>
    <view class="u-btn u-btn-primary u-btn--sm product-error__btn" bindtap="handleRetry">重新加载</view>
  </view>

  <view wx:if="{{!loading && products.length === 0 && !errorMessage}}" class="product-empty">
    <image class="product-empty__icon" src="/images/common/placeholder-card.png" mode="aspectFit"></image>
    <text class="product-empty__text">暂未找到符合条件的推荐</text>
    <view class="product-empty__hint">试试切换来源或联系平台获取定制方案</view>
  </view>

  <view wx:if="{{products.length}}" class="product-cards">
    <view class="product-card" wx:for="{{products}}" wx:key="id" data-id="{{item.id}}" bindtap="handleViewDetail">
      <view class="product-card__banner">
        <image class="product-card__image" src="{{item.banner}}" mode="aspectFill" aria-hidden="true"></image>
        <view class="product-card__badge">{{item.source==='enterprise' ? item.sourceLabel || '企业推荐' : '平台推荐'}}</view>
      </view>
      <view class="product-card__body">
        <view class="product-card__title">{{item.name}}</view>
        <view class="product-card__subtitle">{{item.subtitle}}</view>
        <view class="product-card__meta">
          <text class="product-card__price">产品价格：{{item.priceRange}}</text>
        </view>
      </view>
    </view>
  </view>

  <view wx:if="{{loading && products.length}}" class="product-footnote product-footnote--loading">加载中...</view>
  <view wx:if="{{!hasMore && products.length}}" class="product-footnote">已加载全部推荐</view>
</view>
