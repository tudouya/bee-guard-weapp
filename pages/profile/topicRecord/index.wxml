<view class="topicRecord">
  <view class="topicRecord-header">
    <view class="{{item.checked?'topicRecord-header-list topicRecord-header-list-active':'topicRecord-header-list'}}" wx:for="{{typeData}}" wx:key="index" bindtap="handleChangeType" data-item="{{item}}">{{item.name}}</view>
  </view>
  <view class="topicRecord-con">
    <block wx:if="{{id===1}}">
      <view class="topicRecord-con-list" wx:for="{{publicData}}" wx:key="id" bindtap="handleDetails" data-id="{{item.id}}" data-item="{{item}}">
        <view class="topicRecord-con-list-top">
          <image class="topicRecord-con-list-avatar" src="{{item.avatar}}"></image>
          <view class="topicRecord-con-list-right">
            <view class="topicRecord-con-list-right-top">
              <view class="topicRecord-con-list-nick">{{item.typeName}}</view>
              <view class="topicRecord-con-list-type {{item.statusTone}}">{{item.statusText}}</view>
            </view>
            <view class="topicRecord-con-list-time">{{item.publishedAt}} 发布 · {{item.views}}次浏览</view>
          </view>
        </view>
        <view class="topicRecord-con-list-desc"><view>{{item.title}}</view></view>
        <view class="topicRecord-con-list-meta">👍 {{item.likes}} · 💬 {{item.replies}}</view>
        <view class="topicRecord-con-list-reject" wx:if="{{item.rejectReason}}">驳回原因：{{item.rejectReason}}</view>
      </view>
      <view class="empty" wx:if="{{loading}}">加载中…</view>
      <view class="empty" wx:if="{{!loading && error}}">{{error}}</view>
      <view class="empty" wx:if="{{!loading && !error && (!publicData||publicData.length===0)}}">--暂无数据--</view>
    </block>
    <block wx:else>
      <view class="empty">回复记录功能即将上线</view>
    </block>
  </view>
</view>
