<view class="container">
  <view class="content">
    <view class="shipping-card">
      <view class="card-header">
        <text class="card-icon">📦</text>
        <text class="card-title">确认邮寄</text>
      </view>

      <!-- 说明提示 -->
      <view class="tip">
        <text>请填写您的检测号、手机号与快递信息，以便我们在样品寄出后及时匹配与更新状态。</text>
      </view>

      <!-- 表单区 -->
      <view class="form">
        <view class="form-item">
          <view class="form-label">检测号</view>
          <view class="form-input-wrapper">
            <input class="form-input" placeholder="例如：QY-123456 或 ZF-987654" value="{{form.detectionNumber}}" bindinput="onInput" data-key="detectionNumber" />
          </view>
        </view>

        <view class="form-item">
          <view class="form-label">手机号</view>
          <view class="form-input-wrapper">
            <input class="form-input" type="number" maxlength="11" placeholder="请输入11位手机号" value="{{form.phone}}" bindinput="onInput" data-key="phone" />
          </view>
        </view>

        <view class="form-item">
          <view class="form-label">快递公司</view>
          <view class="picker-wrapper" bindtap="openCompanyPicker">
            <text class="picker-text">{{ companyOptions[companyIndex] || '请选择快递公司' }}</text>
          </view>
        </view>

        <view class="form-item">
          <view class="form-label">快递单号</view>
          <view class="form-input-wrapper">
            <input class="form-input" placeholder="请输入快递单号" value="{{form.trackingNo}}" bindinput="onInput" data-key="trackingNo" />
          </view>
        </view>

        <view class="form-item">
          <view class="form-label">寄出日期（可选）</view>
          <picker mode="date" value="{{form.date}}" bindchange="onDateChange">
            <view class="picker-wrapper">
              <text class="picker-text">{{ form.date || '选择日期' }}</text>
            </view>
          </picker>
        </view>

        <view class="form-item">
          <view class="form-label">照片（可选，本地预览）</view>
          <view class="images">
            <view class="img" wx:for="{{form.images}}" wx:key="*this">
              <image class="img-pic" src="{{item}}" mode="aspectFill" bindtap="previewImage" data-url="{{item}}" />
            </view>
            <view class="img img-add" bindtap="chooseImage">＋</view>
          </view>
        </view>

        <button class="u-btn u-btn-primary u-btn--md u-btn--pill u-btn-block" loading="{{submitting}}" bindtap="submit">提交确认</button>
      </view>
    </view>
  </view>
</view>

